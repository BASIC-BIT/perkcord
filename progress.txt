2026-01-12: Added initial Convex schema for core entitlements tables (guilds, tiers, member identities, entitlement grants, audit events).
2026-01-12: Added Convex mutation for manual entitlement grants with audit events.
2026-01-12: Added Convex mutation to revoke entitlement grants with audit events.
2026-01-12: Added member snapshot query returning entitlements plus audit events, indexed by subject user for admin lookup.
2026-01-12: Added tier management mutations (create/update) and list query with entitlement policy validation plus audit events.
2026-01-12: Added Convex guild upsert + lookup functions with audit events for onboarding workflows.
2026-01-12: Added member identity upsert mutation for Discord OAuth linkage with audit events (no token logging).
2026-01-12: Added role sync request table and admin mutation for force sync requests (guild/user) with audit events.
2026-01-12: Added role sync request claim/completion mutations for bot workers with audit events.
2026-01-12: Added Convex query to compute desired role IDs for a member from active entitlements for bot role sync.
2026-01-12: Added guild diagnostics schema plus upsert/get mutations for onboarding checks with audit events.
2026-01-12: Added provider event log table plus idempotent record/mark processed mutations for webhook dedupe.
2026-01-12: Added guild audit events feed query with optional member filter for admin timelines.
2026-01-12: Added Stripe webhook HTTP endpoint with signature verification and normalized provider event logging.
2026-01-12: Captured Stripe price IDs on webhook ingestion and stored them on provider events for downstream entitlement mapping.
2026-01-12: Added Authorize.Net webhook HTTP endpoint with signature verification and normalized provider event logging.
2026-01-12: Added query to report active member counts by tier for admin reporting.
2026-01-12: Added scheduled job to expire entitlement grants past validThrough with audit events.
2026-01-12: Added admin member search query to find linked Discord users by id or username.
2026-01-12: Added provider customer link table and upsert/lookup mutations to map payment provider customer IDs to Discord users per guild.
2026-01-12: Captured Authorize.Net merchantReferenceId on webhook ingestion for tier mapping.
2026-01-12: Added Convex query to list recent role sync requests by guild or user for admin diagnostics.
