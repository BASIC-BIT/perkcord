@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    color-scheme: light dark;
    --background: 210 40% 98%;
    --foreground: 222 47% 11%;
    --card: 0 0% 100%;
    --card-foreground: 222 47% 11%;
    --popover: 0 0% 100%;
    --popover-foreground: 222 47% 11%;
    --primary: 214 88% 52%;
    --primary-foreground: 0 0% 100%;
    --secondary: 212 33% 94%;
    --secondary-foreground: 222 47% 11%;
    --muted: 210 30% 94%;
    --muted-foreground: 215 20% 35%;
    --accent: 210 60% 88%;
    --accent-foreground: 222 47% 11%;
    --destructive: 0 84% 60%;
    --destructive-foreground: 0 0% 100%;
    --border: 214 32% 88%;
    --input: 214 32% 88%;
    --ring: 214 88% 52%;
    --radius: 18px;
    --page-gradient: radial-gradient(circle at top, hsl(var(--primary) / 0.12), transparent 45%),
      radial-gradient(circle at 20% 10%, hsl(var(--accent) / 0.35), transparent 35%);
  }

  .dark {
    --background: 222 47% 7%;
    --foreground: 210 20% 96%;
    --card: 222 45% 11%;
    --card-foreground: 210 20% 96%;
    --popover: 222 45% 10%;
    --popover-foreground: 210 20% 96%;
    --primary: 210 95% 62%;
    --primary-foreground: 222 47% 11%;
    --secondary: 222 32% 18%;
    --secondary-foreground: 210 20% 96%;
    --muted: 222 32% 18%;
    --muted-foreground: 215 18% 70%;
    --accent: 212 40% 22%;
    --accent-foreground: 210 20% 96%;
    --destructive: 0 72% 50%;
    --destructive-foreground: 0 0% 100%;
    --border: 222 32% 20%;
    --input: 222 32% 20%;
    --ring: 210 95% 62%;
    --page-gradient: radial-gradient(circle at top, hsl(var(--primary) / 0.18), transparent 55%),
      radial-gradient(circle at 20% 10%, hsl(var(--accent) / 0.35), transparent 40%);
  }

  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground font-sans antialiased;
    background-image: var(--page-gradient);
    background-attachment: fixed;
  }

  h1,
  h2,
  h3,
  h4 {
    @apply font-display text-foreground;
    letter-spacing: -0.02em;
  }

  a {
    @apply text-primary transition;
  }

  a:hover {
    @apply text-primary/80;
  }

  code {
    @apply font-mono text-sm text-foreground/90;
  }
}

@layer components {
  .page-shell {
    @apply min-h-screen w-full;
  }

  .page-frame {
    @apply w-full max-w-6xl px-4 pb-16 pt-10 sm:px-6 lg:px-8;
  }

  .card {
    @apply rounded-2xl border border-border bg-card text-card-foreground shadow-sm;
  }

  .panel {
    @apply rounded-3xl border border-border bg-card px-6 py-7 shadow-sm;
  }

  .banner {
    @apply rounded-xl border border-border bg-accent/45 px-4 py-3 text-sm text-foreground;
  }

  .banner.success {
    @apply border-emerald-200 bg-emerald-50 text-emerald-900 dark:border-emerald-500/40 dark:bg-emerald-500/15 dark:text-emerald-100;
  }

  .banner.error {
    @apply border-rose-200 bg-rose-50 text-rose-900 dark:border-rose-500/40 dark:bg-rose-500/15 dark:text-rose-100;
  }

  .button {
    @apply inline-flex items-center justify-center gap-2 rounded-full bg-primary px-5 py-2 text-sm font-semibold text-primary-foreground shadow-sm transition hover:brightness-110 disabled:cursor-not-allowed disabled:opacity-60;
  }

  .button.secondary {
    @apply border border-border bg-transparent text-foreground shadow-none hover:bg-secondary;
  }

  .button.ghost {
    @apply bg-transparent text-foreground shadow-none hover:bg-secondary;
  }

  .button.disabled {
    @apply pointer-events-none opacity-50;
  }

  .subtle {
    @apply text-xs uppercase tracking-[0.3em] text-muted-foreground;
  }

  .meta {
    @apply flex flex-wrap gap-3 text-sm text-muted-foreground;
  }

  .tier-grid {
    @apply grid gap-4 md:grid-cols-2 xl:grid-cols-3;
  }

  .tier-card {
    @apply rounded-2xl border border-border bg-card px-5 py-6 shadow-sm;
  }

  .tier-card.highlighted {
    @apply border-primary/40 shadow-glow;
  }

  .tier-header {
    @apply flex items-baseline justify-between gap-3;
  }

  .tier-price {
    @apply text-sm font-semibold text-muted-foreground;
  }

  .tier-actions {
    @apply flex flex-wrap gap-3;
  }

  .tier-summary {
    @apply rounded-2xl border border-dashed border-border bg-secondary/70 p-5;
  }

  .payment-grid {
    @apply grid gap-4 md:grid-cols-2 xl:grid-cols-3;
  }

  .payment-card {
    @apply rounded-2xl border border-border bg-card p-5 shadow-sm;
  }

  .panel-grid {
    @apply grid gap-6 lg:grid-cols-[220px_1fr];
  }

  .nav-link {
    @apply flex items-center gap-2 rounded-xl px-3 py-2 text-sm font-medium text-muted-foreground transition hover:bg-secondary hover:text-foreground;
  }

  .nav-link.active {
    @apply bg-secondary text-foreground;
  }

  .step-list {
    list-style: none;
    counter-reset: setup-steps;
    @apply grid gap-4 p-0;
  }

  .step-item {
    @apply relative rounded-2xl border border-border bg-card px-5 py-5 pl-14;
    counter-increment: setup-steps;
  }

  .step-item::before {
    content: counter(setup-steps);
    @apply absolute left-4 top-4 flex h-8 w-8 items-center justify-center rounded-full border border-border bg-secondary text-sm font-semibold text-foreground;
  }

  .step-title {
    @apply text-base font-semibold text-foreground;
  }

  .step-hint {
    @apply text-sm text-muted-foreground;
  }

  .meta-grid {
    @apply grid gap-3 sm:grid-cols-3;
  }

  .meta-card {
    @apply rounded-xl border border-border bg-secondary/60 px-3 py-3 text-sm;
  }

  .meta-key {
    @apply font-mono text-xs font-semibold text-foreground;
  }

  .meta-desc {
    @apply text-xs text-muted-foreground;
  }

  .form {
    @apply grid gap-4;
  }

  .field {
    @apply grid gap-2 text-sm text-muted-foreground;
  }

  .input {
    @apply w-full rounded-xl border border-input bg-background/80 px-3 py-2 text-sm text-foreground shadow-sm outline-none ring-offset-background transition focus-visible:ring-2 focus-visible:ring-ring/50;
  }

  .result-list,
  .audit-list {
    @apply grid gap-3;
  }

  .result-item,
  .audit-item {
    @apply rounded-xl border border-border bg-card px-4 py-3;
  }

  .result-meta,
  .audit-meta {
    @apply grid gap-1 text-sm text-muted-foreground;
  }

  .result-meta strong,
  .audit-title {
    @apply text-sm font-semibold text-foreground;
  }

  .audit-type {
    @apply inline-flex items-center rounded-full border border-border bg-secondary px-2.5 py-0.5 text-xs font-semibold uppercase tracking-wide text-muted-foreground;
  }

  .audit-id {
    @apply rounded-full border border-border bg-secondary px-2 py-0.5 font-mono text-xs text-foreground;
  }

  .snapshot-grid {
    @apply grid gap-4 lg:grid-cols-2;
  }

  .snapshot-card {
    @apply rounded-2xl border border-border bg-card p-5 shadow-sm;
  }

  .snapshot-meta {
    @apply grid gap-2 text-sm text-muted-foreground;
  }

  .audit-details summary {
    @apply cursor-pointer text-xs font-semibold text-primary;
  }

  .audit-details pre {
    @apply mt-3 rounded-xl border border-border bg-secondary/70 p-3 text-xs text-foreground;
    white-space: pre-wrap;
    word-break: break-word;
  }
}
